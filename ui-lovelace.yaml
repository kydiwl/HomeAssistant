###############################
#                             #
#         Resources           #
#                             #
###############################
resources:
  - url: /local/custom-lovelace/upcoming-media-card/upcoming-media-card.js?v=0.0.1
    type: js

###############################
#                             #
#           Views             #
#                             #
###############################
views:
###############################
#                             #
#         Home Tab            #
#                             #
###############################
  - title: main
    icon: mdi:home-outline
    panel: true
    cards: #!include cards/home.yaml
      - type: vertical-stack
        cards:
        - type: horizontal-stack
          cards:
          - type: vertical-stack
            cards:
            - type: markdown
              content: >
                ## Forecast Summary
            - type: entities
              entities:
                - entity: sensor.dark_sky_hourly_summary
                  name: Today
                - entity: sensor.dark_sky_daily_summary
                  name: 3 Day
            - type: markdown
              content: >
                ## Radar
            - type: picture-glance
              # Don't show a title, but a value is necessary
              # to center the camera_image icon
              title: " "
              entities:
                - camera.raleigh_radar
              camera_image: camera.raleigh_satellite


          - type: vertical-stack
            cards:
            - type: markdown
              content: >
                ## Light Toggles
            - type: markdown
              content: >
                ### Outdoor Lights
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - entity: light.hue_front_porch
                    tap_action: toggle
              - type: glance
                entities:
                  - entity: light.hue_garage_door_left
                    tap_action: toggle
                  - entity: light.hue_garage_door_right
                    tap_action: toggle
            - type: markdown
              content: >
                ### Indoor Lights
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - entity: light.hue_family_room_nightlight
                    tap_action: toggle

        - type: horizontal-stack
          cards:
          - title: Web Links
            type: entities
            entities:
              - type: weblink
                url: https://www.mynexia.com/login
                icon: mdi:thermostat
                name: mynexia

###############################
#                             #
#        Weather Tab          #
#                             #
###############################
  - title: weather
    icon: mdi:cloud-outline
    panel: true
    cards:
      # Parent card
      - type: vertical-stack
        cards:
        - type: horizontal-stack
          cards:
          - type: vertical-stack
            cards:
              - type: markdown
                content: >
                  ## Current Conditions
              - type: horizontal-stack
                cards:
                - type: glance
                  entities:
                    - entity: sensor.dark_sky_temperature
                      name: Temperature
                - type: glance
                  entities:
                    - entity: sensor.dark_sky_apparent_temperature
                      name: Feels Like
                - type: glance
                  entities:
                    - entity: sensor.dark_sky_humidity
                      name: Humidity
              - type: horizontal-stack
                cards:
                - type: glance
                  entities:
                    - entity: sensor.dark_sky_dew_point
                      name: Dew Point
                - type: glance
                  entities:
                    - sensor.dark_sky_wind_speed
                - type: glance
                  entities:
                    - sensor.dark_sky_wind_bearing
              - type: horizontal-stack
                cards:
                - type: glance
                  entities:
                    - sensor.dark_sky_visibility
                - type: conditional
                  conditions:
                    - entity: sensor.dark_sky_uv_index
                      state_not: 'unavailable'
                  card:
                    type: glance
                    entities:
                      - sensor.dark_sky_uv_index

          - type: vertical-stack
            cards:
              - type: markdown
                content: >
                  ## Hourly Forecast
              - type: entities
                entities:
                  - sensor.weather_1h_summary
              - type: entities
                entities:
                  - sensor.weather_2h_summary
              - type: entities
                entities:
                  - sensor.weather_3h_summary
              - type: entities
                entities:
                  - sensor.weather_4h_summary
              - type: entities
                entities:
                  - sensor.weather_5h_summary
              - type: entities
                entities:
                  - sensor.weather_6h_summary
              - type: entities
                entities:
                  - sensor.weather_9h_summary
              - type: entities
                entities:
                  - sensor.weather_12h_summary
              - type: entities
                entities:
                  - sensor.weather_18h_summary
              - type: entities
                entities:
                  - sensor.weather_24h_summary


        - type: horizontal-stack
          cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                - type: vertical-stack
                  cards:
                  - type: markdown
                    content: >
                      ## Day 1 Forecast
                  - type: entities
                    entities:
                      - entity: sensor.dark_sky_precip_1
                        name: Precip
                      - entity: sensor.dark_sky_precip_probability_1
                        name: Chance of Precip
                      - entity: sensor.dark_sky_precip_accumulation_1
                        name: Accumulation
                      - entity: sensor.dark_sky_precip_intensity_1
                        name: Precip Intensity
                      - entity: sensor.dark_sky_icon_1
                        name: Sky
                      - entity: sensor.dark_sky_cloud_coverage_1
                        name: Cloud Coverage
                      - entity: sensor.dark_sky_daily_max_precip_intensity_1
                        name: Max Precip Intensity
                      - entity: sensor.dark_sky_daytime_high_apparent_temperature_1
                        name: High Apparent Temp
                      - entity: sensor.dark_sky_daytime_high_temperature_1
                        name: High Daytime Temp
                      - entity: sensor.dark_sky_dew_point_1
                        name: Dewpoint
                      - entity: sensor.dark_sky_humidity_1
                        name: Humidity
                      - entity: sensor.dark_sky_moon_phase_1
                        name: Moon phase
                      - entity: sensor.dark_sky_overnight_low_apparent_temperature_1
                        name: Low Apparent Temp
                      - entity: sensor.dark_sky_overnight_low_temperature_1
                        name: Low Overnight Temp
                      - entity: sensor.dark_sky_ozone_1
                        name: Ozone
                - type: vertical-stack
                  cards:
                  - type: markdown
                    content: >
                      ## Day 2 Forecast
                  - type: entities
                    entities:
                      - entity: sensor.dark_sky_precip_2
                        name: Precip
                      - entity: sensor.dark_sky_precip_probability_2
                        name: Chance of Precip
                      - entity: sensor.dark_sky_precip_accumulation_2
                        name: Accumulation
                      - entity: sensor.dark_sky_precip_intensity_2
                        name: Precip Intensity
                      - entity: sensor.dark_sky_icon_2
                        name: Sky
                      - entity: sensor.dark_sky_cloud_coverage_2
                        name: Cloud Coverage
                      - entity: sensor.dark_sky_daily_max_precip_intensity_2
                        name: Max Precip Intensity
                      - entity: sensor.dark_sky_daytime_high_apparent_temperature_2
                        name: High Apparent Temp
                      - entity: sensor.dark_sky_daytime_high_temperature_2
                        name: High Daytime Temp
                      - entity: sensor.dark_sky_dew_point_2
                        name: Dewpoint
                      - entity: sensor.dark_sky_humidity_2
                        name: Humidity
                      - entity: sensor.dark_sky_moon_phase_2
                        name: Moon phase
                      - entity: sensor.dark_sky_overnight_low_apparent_temperature_2
                        name: Low Apparent Temp
                      - entity: sensor.dark_sky_overnight_low_temperature_2
                        name: Low Overnight Temp
                      - entity: sensor.dark_sky_ozone_2
                        name: Ozone
                - type: vertical-stack
                  cards:
                  - type: markdown
                    content: >
                      ## Day 3 Forecast
                  - type: entities
                    entities:
                      - entity: sensor.dark_sky_precip_3
                        name: Precip
                      - entity: sensor.dark_sky_precip_probability_3
                        name: Chance of Precip
                      - entity: sensor.dark_sky_precip_accumulation_3
                        name: Accumulation
                      - entity: sensor.dark_sky_precip_intensity_3
                        name: Precip Intensity
                      - entity: sensor.dark_sky_icon_3
                        name: Sky
                      - entity: sensor.dark_sky_cloud_coverage_3
                        name: Cloud Coverage
                      - entity: sensor.dark_sky_daily_max_precip_intensity_3
                        name: Max Precip Intensity
                      - entity: sensor.dark_sky_daytime_high_apparent_temperature_3
                        name: High Apparent Temp
                      - entity: sensor.dark_sky_daytime_high_temperature_3
                        name: High Daytime Temp
                      - entity: sensor.dark_sky_dew_point_3
                        name: Dewpoint
                      - entity: sensor.dark_sky_humidity_3
                        name: Humidity
                      - entity: sensor.dark_sky_moon_phase_3
                        name: Moon phase
                      - entity: sensor.dark_sky_overnight_low_apparent_temperature_3
                        name: Low Apparent Temp
                      - entity: sensor.dark_sky_overnight_low_temperature_3
                        name: Low Overnight Temp
                      - entity: sensor.dark_sky_ozone_3
                        name: Ozone
        # Row - Sun / Summary / Comfort cards
        - type: horizontal-stack
          cards:
          # Column Sun / Comfort
          - type: vertical-stack
            cards:
            # Row Sun Sensor
            - type: markdown
              content: >
                ## Sun
            - type: glance
              entities:
                - sun.sun
                - sensor.sunrise_time
                - sensor.sunset_time
                - sensor.sunrise_dawn
                - sensor.sunset_dusk
            # Row - Weather Comfort
            - type: markdown
              content: >
                ## Comfort
            # Row - Weather Confort Values
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_feelslike_f
              - type: glance
                entities:
                  - sensor.pws_heat_index_f
              - type: glance
                entities:
                  - sensor.pws_dewpoint_f
              - type: glance
                entities:
                  - sensor.pws_relative_humidity
            # Row - Weather Comfort Strings
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_feelslike_string
              - type: glance
                entities:
                  - sensor.pws_heat_index_string
              - type: glance
                entities:
                  - sensor.pws_dewpoint_string
              - type: conditional
                conditions:
                  - entity: sensor.pws_UV
                    state_not: 'unavailable'
                card:
                  type: glance
                  entities:
                    - sensor.pws_UV
          # Column - Weather Summary
          - type: vertical-stack
            cards:
            # Row Station ID / Elevation / Location
            - type: markdown
              content: >
                ## Station
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_station_id
              - type: glance
                entities:
                  - sensor.pws_elevation
              - type: glance
                entities:
                  - sensor.pws_location
            - type: markdown
              content: >
                ## Summary
            # Row - Weather / Temp / Visibility
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_weather
              - type: glance
                entities:
                  - sensor.pws_temp_f
              - type: glance
                entities:
                  - sensor.pws_visibility_mi
            # Row Alerts / Solar Radiation / Observation Time
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_alerts
              - type: glance
                entities:
                  - sensor.pws_solarradiation
              - type: glance
                entities:
                  - sensor.pws_observation_time_short_date
        # Row - Wind / Precipitation cards
        - type: horizontal-stack
          cards:
          # Column - Wind
          - type: vertical-stack
            cards:
            - type: markdown
              content: >
                ## Wind
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_wind_gust_1d_mph
              - type: glance
                entities:
                  - sensor.pws_wind_1d_mph
              - type: glance
                entities:
                  - sensor.pws_pressure_in
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_pressure_mb
              - type: glance
                entities:
                  - sensor.pws_pressure_trend
              - type: glance
                entities:
                  - sensor.pws_wind_mph
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_wind_dir
              - type: glance
                entities:
                  - sensor.pws_wind_degrees
              - type: glance
                entities:
                  - sensor.pws_wind_string

          # Column Precipitation
          - type: vertical-stack
            cards:
            - type: markdown
              content: >
                ## Precipitation
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_precip_1d_in
              - type: glance
                entities:
                  - sensor.pws_precip_1d
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - sensor.pws_precip_1hr_in
              - type: glance
                entities:
                  - sensor.pws_precip_today_in
              - type: glance
                entities:
                  - sensor.pws_precip_today_string
      # End page

###############################
#                             #
#        Lights Tab           #
#                             #
###############################
  - title: lights
    icon: mdi:lightbulb-outline
    panel: true
    cards:
      # Parent card
      - type: vertical-stack
        cards:
        # Row - Clock Sensor
        - type: glance
          entities:
            - entity: sensor.time
        # Row - Interior Lights
        - type: horizontal-stack
          cards:
          - type: vertical-stack
            cards:
            - type: markdown
              content: >
                ## Interior Lights
            - type: horizontal-stack
              cards:
              - type: glance
                entities:
                  - entity: light.hue_family_room_nightlight
        # Row - Outdoor Lights
        - type: horizontal-stack
          cards:
          - type: vertical-stack
            cards:
            - type: markdown
              content: >
                ## Outdoor Lights
            - type: horizontal-stack
              cards:
              - title: Porch Lights
                type: glance
                entities:
                  - entity: light.hue_front_porch
                    icon: mdi:home
                  - entity: light.hue_garage_door_left
                    icon: mdi:garage
                  - entity: light.hue_garage_door_right
                    icon: mdi:garage
              - title: Group Toggles
                type: glance
                entities:
                  - entity: group.porch_lights
                    tap_action: toggle
                  - entity: group.garage_door_lights
                    tap_action: toggle
                    icon: mdi:garage

###############################
#                             #
#        Media Tab            #
#                             #
###############################
  - title: media
    icon: mdi:television
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:upcoming-media-card
                entity: sensor.sonarr_upcoming_media
                title: Upcoming TV
                all_shadows: false
              - type: vertical-stack
                cards:
                  - type: horizontal-stack
                    cards:
                      - type: conditional
                        conditions:
                          - entity: media_player.kyles_tv
                            state_not: 'unavailable'
                        card:
                          type: glance
                          title: "Kyle's TV"
                          show_name: false
                          entities:
                            - media_player.kyles_tv
                      - type: conditional
                        conditions:
                          - entity: media_player.kyles_roku_2
                            state_not: 'unavailable'
                        card:
                          type: glance
                          title: Kyle's Roku
                          show_name: false
                          entities:
                            - entity: media_player.kyles_roku_2
#                              name: media_player.kyles_roku_2.media_title
                      - title: Sonarr Queue
                        type: glance
                        show_name: false
                        entities:
                          - entity: sensor.sonarr_queue
                            tap_action: 
                              action: navigate
#                            navigation_path: http://192.168.1.101:8989/
#                              navigation_path: /lovelace/2
                  - type: vertical-stack
                    cards:
                      - type: markdown
                        content: >
                          ## [Series Downloads](http://192.168.1.102:9091/transmission/web/)
                      - type: vertical-stack
                        cards:
                          - type: horizontal-stack
                            cards:
                            - type: glance
                              title: Active
                              show_name: false
                              entities:
                                - sensor.transmission_series_active_torrents
                            - type: glance
                              title: Paused
                              show_name: false
                              entities:
                                - sensor.transmission_series_paused_torrents
                            - type: glance
                              title: Status
                              show_name: false
                              entities:
                                - sensor.transmission_series_status
                          - type: horizontal-stack
                            cards:
                            - type: glance
                              title: Total
                              show_name: false
                              entities:
                                - sensor.transmission_series_total_torrents
                            - type: glance
                              title: Down Speed
                              show_name: false
                              entities:
                                - sensor.transmission_series_down_speed
                            - type: glance
                              title: Up Speed
                              show_name: false
                              entities:
                                - sensor.transmission_series_up_speed
                      - type: markdown
                        content: >
                          ## [Other Downloads](http://192.168.1.107:9091/transmission/web/)
                      - type: vertical-stack
                        cards:
                          - type: horizontal-stack
                            cards:
                            - type: glance
                              title: Active
                              show_name: false
                              entities:
                                - sensor.transmission_other_active_torrents
                            - type: glance
                              title: Paused
                              show_name: false
                              entities:
                                - sensor.transmission_other_paused_torrents
                            - type: glance
                              title: Status
                              show_name: false
                              entities:
                                - sensor.transmission_other_status
                          - type: horizontal-stack
                            cards:
                            - type: glance
                              title: Total
                              show_name: false
                              entities:
                                - sensor.transmission_other_total_torrents
                            - type: glance
                              title: Down Speed
                              show_name: false
                              entities:
                                - sensor.transmission_other_down_speed
                            - type: glance
                              title: Up Speed
                              show_name: false
                              entities:
                                - sensor.transmission_other_up_speed

###############################
#                             #
#        System Tab           #
#                             #
###############################
  - title: system
    icon: mdi:desktop-tower
    panel: true
    cards:
    # Parent card
    - type: vertical-stack
      cards:
      # Row - Memory / Disk / System
      - type: horizontal-stack
        cards:
        # Column Memory
        - type: vertical-stack
          cards:
          - type: markdown
            content: >
              ## Memory
          - type: vertical-stack
            cards:
            - type: glance
              entities:
                - sensor.memory_free
            - type: glance
              entities:
                - sensor.memory_use
            - type: glance
              entities:
                - sensor.memory_use_percent
        # Column Disk
        - type: vertical-stack
          cards:
          - type: markdown
            content: >
              ## Disk
          - type: horizontal-stack
            cards:
            - type: vertical-stack
              cards:
              - type: glance
                entities:
                  - sensor.disk_use_percent_
              - type: glance
                entities:
                  - sensor.disk_free_
              - type: glance
                entities:
                  - sensor.disk_use_
            - type: vertical-stack
              cards:
              - type: glance
                entities:
                  - sensor.swap_free
              - type: glance
                entities:
                  - sensor.swap_use
              - type: glance
                entities:
                  - sensor.swap_use_percent
        # Column System
        - type: vertical-stack
          cards:
          - type: markdown
            content: >
              ## System
          - type: horizontal-stack
            cards:
            - type: glance
              entities:
                - sensor.last_boot
            - type: glance
              entities:
                - sensor.since_last_boot
          - type: horizontal-stack
            cards:
            - type: glance
              entities:
                - sensor.load_1m
            - type: glance
              entities:
                - sensor.load_5m
            - type: glance
              entities:
                - sensor.load_15m
          - type: horizontal-stack
            cards:
            - type: glance
              entities:
                - sensor.processor_use
            - type: glance
              entities:
                - sensor.packets_in
            - type: glance
              entities:
                - sensor.packets_out
      # Row CPU Temps
      - type: vertical-stack
        cards:
        - type: history-graph
          entities:
            - sensor.cpu0_temp
          refresh_interval: 60
        - type: history-graph
          entities:
            - sensor.cpu1_temp
          refresh_interval: 60
        - type: history-graph
          entities:
            - sensor.cpu2_temp
          refresh_interval: 60
        - type: history-graph
          entities:
            - sensor.cpu3_temp
          refresh_interval: 60
        - type: history-graph
          entities:
            - sensor.cpu4_temp
          refresh_interval: 60
        - type: history-graph
          entities:
            - sensor.cpu5_temp
          refresh_interval: 60
        - type: history-graph
          entities:
            - sensor.cpu6_temp
          refresh_interval: 60
        - type: history-graph
          entities:
            - sensor.cpu7_temp
          refresh_interval: 60

###############################
#                             #
#       Web Cams Tab          #
#                             #
###############################
#  - title: web cams
#    icon: mdi:camcorder
#    cards:
#      - title: Web Cams
#        type: picture-glance
#        entities:
#          - camera.kitchen_camera
#        camera_image: camera.kitchen_camera
